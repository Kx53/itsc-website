---
export interface Props {
  title: string;
  description: string;
  imageUrl: string;
  date: string;
  readTime: string;
  category: string;
  categoryColor?: string;
  readMoreText?: string;
}

const {
  title,
  description,
  imageUrl,
  date,
  readTime,
  category,
  categoryColor = "bg-blue-500",
  readMoreText = "อ่านต่อ",
} = Astro.props;
---

<div class="card bg-base-100 shadow-lg rounded-3xl overflow-hidden h-auto">
  <!-- Image Section -->
  <figure class="relative h-48 md:h-64 bg-base-300">
    <img
      src={imageUrl}
      alt={title}
      class="w-full h-full object-cover"
      loading="lazy"
    />
  </figure>

  <!-- Card Body -->
  <div class="card-body p-6">
    <!-- Title -->
    <h2
      class="card-title text-xl md:text-2xl font-normal text-base-content mb-3"
    >
      {title}
    </h2>

    <!-- Description -->
    <p
      class="text-sm md:text-base text-base-content leading-relaxed mb-4 line-clamp-3"
    >
      {description}
    </p>

    <!-- Category Badge -->
    <div class="flex justify-end mb-3">
      <div
        class={`badge badge-lg text-white text-sm px-4 py-2 rounded-full ${categoryColor}`}
      >
        {category}
      </div>
    </div>

    <!-- Footer with Date, Time and Read More Button -->
    <div class="card-actions justify-between items-center">
      <div
        class="flex items-center gap-4 text-sm md:text-base text-base-content"
      >
        <!-- Calendar Icon and Date -->
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 19 22">
            <path
              d="M5.42857 0C6.17924 0 6.78571 0.614453 6.78571 1.375V2.75H12.2143V1.375C12.2143 0.614453 12.8208 0 13.5714 0C14.3221 0 14.9286 0.614453 14.9286 1.375V2.75H16.9643C18.0882 2.75 19 3.67383 19 4.8125V6.875H0V4.8125C0 3.67383 0.91183 2.75 2.03571 2.75H4.07143V1.375C4.07143 0.614453 4.6779 0 5.42857 0ZM0 8.25H19V19.9375C19 21.0762 18.0882 22 16.9643 22H2.03571C0.91183 22 0 21.0762 0 19.9375V8.25ZM2.71429 11.6875V13.0625C2.71429 13.4406 3.01964 13.75 3.39286 13.75H4.75C5.12321 13.75 5.42857 13.4406 5.42857 13.0625V11.6875C5.42857 11.3094 5.12321 11 4.75 11H3.39286C3.01964 11 2.71429 11.3094 2.71429 11.6875ZM8.14286 11.6875V13.0625C8.14286 13.4406 8.44821 13.75 8.82143 13.75H10.1786C10.5518 13.75 10.8571 13.4406 10.8571 13.0625V11.6875C10.8571 11.3094 10.5518 11 10.1786 11H8.82143C8.44821 11 8.14286 11.3094 8.14286 11.6875ZM14.25 11C13.8768 11 13.5714 11.3094 13.5714 11.6875V13.0625C13.5714 13.4406 13.8768 13.75 14.25 13.75H15.6071C15.9804 13.75 16.2857 13.4406 16.2857 13.0625V11.6875C16.2857 11.3094 15.9804 11 15.6071 11H14.25ZM2.71429 17.1875V18.5625C2.71429 18.9406 3.01964 19.25 3.39286 19.25H4.75C5.12321 19.25 5.42857 18.9406 5.42857 18.5625V17.1875C5.42857 16.8094 5.12321 16.5 4.75 16.5H3.39286C3.01964 16.5 2.71429 16.8094 2.71429 17.1875ZM8.82143 16.5C8.44821 16.5 8.14286 16.8094 8.14286 17.1875V18.5625C8.14286 18.9406 8.44821 19.25 8.82143 19.25H10.1786C10.5518 19.25 10.8571 18.9406 10.8571 18.5625V17.1875C10.8571 16.8094 10.5518 16.5 10.1786 16.5H8.82143ZM13.5714 17.1875V18.5625C13.5714 18.9406 13.8768 19.25 14.25 19.25H15.6071C15.9804 19.25 16.2857 18.9406 16.2857 18.5625V17.1875C16.2857 16.8094 15.9804 16.5 15.6071 16.5H14.25C13.8768 16.5 13.5714 16.8094 13.5714 17.1875Z"
            ></path>
          </svg>
          <span>{date}</span>
        </div>

        <!-- Clock Icon and Read Time -->
        <div class="flex items-center gap-2">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 22 22">
            <path
              d="M11 0C13.9174 0 16.7153 1.15893 18.7782 3.22183C20.8411 5.28473 22 8.08262 22 11C22 13.9174 20.8411 16.7153 18.7782 18.7782C16.7153 20.8411 13.9174 22 11 22C8.08262 22 5.28473 20.8411 3.22183 18.7782C1.15893 16.7153 0 13.9174 0 11C0 8.08262 1.15893 5.28473 3.22183 3.22183C5.28473 1.15893 8.08262 0 11 0ZM9.96875 5.15625V11C9.96875 11.3438 10.1406 11.666 10.4285 11.8594L14.5535 14.6094C15.0262 14.9273 15.6664 14.7984 15.9844 14.3215C16.3023 13.8445 16.1734 13.2086 15.6965 12.8906L12.0312 10.45V5.15625C12.0312 4.58477 11.5715 4.125 11 4.125C10.4285 4.125 9.96875 4.58477 9.96875 5.15625Z"
            ></path>
          </svg>
          <span>{readTime}</span>
        </div>
      </div>

      <!-- Read More Button -->
      <div class="flex-shrink-0">
        <button
          class="btn bg-red-400 hover:bg-red-500 text-white border-none rounded-lg px-4 py-2 text-sm md:text-base font-normal"
        >
          {readMoreText}
        </button>
      </div>
    </div>
  </div>
</div>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
