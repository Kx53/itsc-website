---
export interface Props {
  title: string;
  description: string;
  imageUrl: string;
  date: string;
  readTime: string;
  category: string;
  categoryColor?: string;
  readMoreText?: string;
}

const {
  title,
  description,
  imageUrl,
  date,
  readTime,
  category,
  categoryColor = "bg-blue-500",
  readMoreText = "อ่านต่อ",
} = Astro.props;
---

<div
  class="card bg-base-100 shadow-lg rounded-3xl overflow-hidden h-auto max-w-md"
>
  <!-- Image Section -->
  <figure class="relative h-64 bg-base-300">
    <img
      src={imageUrl}
      alt={title}
      class="w-full h-full object-cover"
      loading="lazy"
    />
  </figure>

  <!-- Card Body -->
  <div class="card-body p-6">
    <!-- Title -->
    <h3
      class="card-title text-lg md:text-xl font-normal text-base-content mb-3 line-clamp-2"
    >
      {title}
    </h3>

    <!-- Description -->
    <p
      class="text-sm md:text-base text-base-content leading-relaxed mb-4 line-clamp-3"
    >
      {description}
    </p>

    <!-- Category Badge -->
    <div class="flex justify-end mb-3">
      <div
        class={`badge badge-md text-white text-sm px-3 py-2 rounded-full ${categoryColor}`}
      >
        {category}
      </div>
    </div>

    <!-- Footer with Date, Time and Read More Button -->
    <div class="card-actions flex-col gap-3">
      <!-- Date and Time Row -->
      <div class="flex items-center gap-4 text-sm text-base-content w-full">
        <!-- Calendar Icon and Date -->
        <div class="flex items-center gap-1">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 12 16">
            <path
              d="M3.42254 0C3.89581 0 4.27817 0.443564 4.27817 0.992591V1.98518H7.70071V0.992591C7.70071 0.443564 8.08307 0 8.55635 0C9.02962 0 9.41198 0.443564 9.41198 0.992591V1.98518H10.6954C11.404 1.98518 11.9789 2.65208 11.9789 3.47407V4.96296H0V3.47407C0 2.65208 0.574879 1.98518 1.28345 1.98518H2.5669V0.992591C2.5669 0.443564 2.94927 0 3.42254 0ZM0 5.95555H11.9789V14.3926C11.9789 15.2146 11.404 15.8815 10.6954 15.8815H1.28345C0.574879 15.8815 0 15.2146 0 14.3926V5.95555ZM1.71127 8.43703V9.42962C1.71127 9.70258 1.90379 9.92591 2.13909 9.92591H2.99472C3.23002 9.92591 3.42254 9.70258 3.42254 9.42962V8.43703C3.42254 8.16406 3.23002 7.94073 2.99472 7.94073H2.13909C1.90379 7.94073 1.71127 8.16406 1.71127 8.43703ZM5.13381 8.43703V9.42962C5.13381 9.70258 5.32633 9.92591 5.56162 9.92591H6.41726C6.65256 9.92591 6.84508 9.70258 6.84508 9.42962V8.43703C6.84508 8.16406 6.65256 7.94073 6.41726 7.94073H5.56162C5.32633 7.94073 5.13381 8.16406 5.13381 8.43703ZM8.98416 7.94073C8.74886 7.94073 8.55635 8.16406 8.55635 8.43703V9.42962C8.55635 9.70258 8.74886 9.92591 8.98416 9.92591H9.8398C10.0751 9.92591 10.2676 9.70258 10.2676 9.42962V8.43703C10.2676 8.16406 10.0751 7.94073 9.8398 7.94073H8.98416ZM1.71127 12.4074V13.4C1.71127 13.6729 1.90379 13.8963 2.13909 13.8963H2.99472C3.23002 13.8963 3.42254 13.6729 3.42254 13.4V12.4074C3.42254 12.1344 3.23002 11.9111 2.99472 11.9111H2.13909C1.90379 11.9111 1.71127 12.1344 1.71127 12.4074ZM5.56162 11.9111C5.32633 11.9111 5.13381 12.1344 5.13381 12.4074V13.4C5.13381 13.6729 5.32633 13.8963 5.56162 13.8963H6.41726C6.65256 13.8963 6.84508 13.6729 6.84508 13.4V12.4074C6.84508 12.1344 6.65256 11.9111 6.41726 11.9111H5.56162ZM8.55635 12.4074V13.4C8.55635 13.6729 8.74886 13.8963 8.98416 13.8963H9.8398C10.0751 13.8963 10.2676 13.6729 10.2676 13.4V12.4074C10.2676 12.1344 10.0751 11.9111 9.8398 11.9111H8.98416C8.74886 11.9111 8.55635 12.1344 8.55635 12.4074Z"
            ></path>
          </svg>
          <span>{date}</span>
        </div>

        <!-- Clock Icon and Read Time -->
        <div class="flex items-center gap-1">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 14 16">
            <path
              d="M6.93514 0C8.77446 0 10.5384 0.83661 11.839 2.32579C13.1396 3.81496 13.8703 5.83472 13.8703 7.94073C13.8703 10.0467 13.1396 12.0665 11.839 13.5557C10.5384 15.0448 8.77446 15.8815 6.93514 15.8815C5.09583 15.8815 3.33185 15.0448 2.03126 13.5557C0.730665 12.0665 0 10.0467 0 7.94073C0 5.83472 0.730665 3.81496 2.03126 2.32579C3.33185 0.83661 5.09583 0 6.93514 0ZM6.28497 3.72222V7.94073C6.28497 8.18888 6.39334 8.42152 6.57484 8.5611L9.17552 10.5463C9.47351 10.7758 9.87716 10.6828 10.0776 10.3385C10.2781 9.99415 10.1968 9.53508 9.89612 9.30554L7.58531 7.54369V3.72222C7.58531 3.30967 7.29545 2.97777 6.93514 2.97777C6.57484 2.97777 6.28497 3.30967 6.28497 3.72222Z"
            ></path>
          </svg>
          <span>{readTime}</span>
        </div>
      </div>

      <!-- Read More Button Row -->
      <div class="flex justify-end w-full">
        <button
          class="btn bg-red-400 hover:bg-red-500 text-white border-none rounded-lg px-3 py-2 text-sm font-normal"
        >
          {readMoreText}
        </button>
      </div>
    </div>
  </div>
</div>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
